<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Owl Carousel + Range Slider</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="robots" content="noindex, nofollow">
    <meta name="googlebot" content="noindex, nofollow">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <script
            type="text/javascript"
            src="//code.jquery.com/jquery-1.10.1.js"

    ></script>



    <link rel="stylesheet" type="text/css" href="http://ionden.com/a/plugins/ion.rangeSlider/static/css/ion.rangeSlider.css">
    <script type="text/javascript" src="http://ionden.com/a/plugins/ion.rangeSlider/static/js/ion-rangeSlider/ion.rangeSlider.js"></script>
    <link rel="stylesheet" type="text/css" href="http://ionden.com/a/plugins/ion.rangeSlider/static/css/ion.rangeSlider.skinHTML5.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.0.0-beta.3/assets/owl.carousel.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.0.0-beta.3/owl.carousel.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.0.0-beta.3/assets/owl.theme.default.min.css">
    <style type="text/css">
        .owl-carousel .owl-item {
            background-color: #ccc;
            text-align: center;
        }

        .irs-bar, .irs-bar-edge, .irs-min, .irs-max, .irs-from, .irs-to, .irs-single{opacity: 0;}

        .irs-slider.single {
            transition: all 0.3s;
            height: 3px;
            background: none;
            background-color: red !important;
            top:37px;
        }
        .irs-line {
            height: 4px;
            top: 36px;
        }
        .irs-slider .single {
            width: 10px !important;
        }
    </style>
    <!-- TODO: Missing CoffeeScript 2 -->

    <script type="text/javascript">


        $(window).load(function(){

            var itemsNum = 0;

            var owl = $('.owl-carousel');

            owl.on('initialized.owl.carousel', function(event) {
                var itemCount =  event.item.count;
                var size      = event.page.size;
                var dragLength = 100 / (itemCount/size);

                $("#range").ionRangeSlider({
                    type: "single",
                    min: 1,
                    max: itemCount - (size - 1),
                    keyboard: true,
                    step: 1,
                    onChange: function (data) {
                        //owl.trigger('changed.owl.carousel', [???]);
                        owlTo = (data.from) - 1;
                        console.log("Позиция ползунка: " + owlTo);
                        owl.trigger('to.owl.carousel', [owlTo, 500, true]);
                    }
                });

                $('.irs-slider.single').css('width', dragLength - 15 + "%")

            });

//Слайдер
            owl.owlCarousel({
                loop:false,
                margin:10,
                nav:false,
                dots: false,
                slideBy:1,
                items: 3
            });

            owl.on('dragged.owl.carousel', function(event) {
                var itemCount =  event.item.count;
                var size      = event.page.size;
                var curItem = event.item.index + 1;
                var dragLength = 100 / (itemCount/size);
                console.log(curItem);
                $("#range").data("ionRangeSlider").update({from: curItem});
                $('.irs-slider.single').css('width', dragLength - 15 + "%");
            });

            owl.on('resized.owl.carousel', function(event) {
                var itemCount =  event.item.count;
                var size      = event.page.size;
                var curItem = event.item.index + 1;
                var dragLength = 100 / (itemCount/size);
                $("#range").data("ionRangeSlider").update({
                    max: itemCount - (size - 1),
                    from: curItem
                });
                $('.irs-slider.single').css('width', dragLength- 15 + "%");
            });

        });

    </script>

</head>
<body>
<div class="container" style="width: 500px">
<div class="owl-carousel">
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
    <div class="item">
        <img src="img/Client-1.jpg" alt="">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad delectus dolores impedit, officia qui soluta!</p>
    </div>
</div>

<div style="position: relative; padding: 20px 100px;">
    <div><input type="text" id="range" value="" name="range" /></div>
</div>
</div>
</body>
</html>
